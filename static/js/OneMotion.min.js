/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/one-motion@1.2.0/src/js/OneMotion.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var OneMotion=function(t,i){this.$el=t,this.x=0,this.y=0,this.loop=null,this.ticker=i.ticker,this.rendering=!0,this.config({xProperty:"translate",yProperty:"translate",headRad:0,minDiff:.1,clock:25,friction:.2,stickyPower:3,width:0,height:0,perspective:1.001}),i&&this.config(i)};OneMotion.prototype.config=function(t){t=t||{},this.xProperty=t.xProperty||this.xProperty,this.yProperty=t.yProperty||this.yProperty,this.rotateProperty=t.rotateProperty||this.rotateProperty,this.minDiff=isNaN(t.minDiff)?this.minDiff:t.minDiff,this.clock=isNaN(t.clock)?this.clock:t.clock,this.friction=isNaN(t.friction)?this.friction:t.friction,this.headRad=isNaN(t.headRad)?this.headRad:t.headRad,this.topWall=isNaN(t.topWall)?this.topWall:t.topWall,this.rightWall=isNaN(t.rightWall)?this.rightWall:t.rightWall,this.bottomWall=isNaN(t.bottomWall)?this.bottomWall:t.bottomWall,this.leftWall=isNaN(t.leftWall)?this.leftWall:t.leftWall,this.width=isNaN(t.width)?this.width:t.width,this.height=isNaN(t.height)?this.height:t.height,this.stickyX=isNaN(t.stickyX)?this.stickyX:t.stickyX,this.stickyY=isNaN(t.stickyY)?this.stickyY:t.stickyY,this.stickyPower=isNaN(t.stickyPower)?this.stickyPower:t.stickyPower,this.perspective=isNaN(t.perspective)?this.perspective:t.perspective,this.intValue=!!t.intValue,this.drawManually=!!t.drawManually,this.dispatcher=t.dispatcher},OneMotion.prototype.hit=function(t){t=t||{};var i=isNaN(t.rad)?2*Math.PI*.75:t.rad,s=t.power||1;if(this.rad=i,this.power=s,this.stop(),this.time=0,this.dispatcher&&this.dispatcher.emit("hit"),!this.drawManually){var h=this,a=Date.now();this.handler=function(){var t=Date.now();h.draw(t-a),a=t},this.ticker?this.ticker.on("tick",this.handler):this.loop=setInterval(this.handler,this.clock)}},OneMotion.prototype.draw=function(t){var i=this.minDiff,s=this.friction,h=this.topWall,a=this.rightWall,r=this.bottomWall,e=this.leftWall,o=this.width,l=this.height,n=this.stickyX,p=this.stickyY,c=this.stickyPower,d=1e3/t;if(this.time+=t,this.power*=Math.pow(s,1/d),this.put(this.x+Math.cos(this.rad)*this.power/d,this.y+Math.sin(this.rad)*this.power/d,this.rad),this.x<e&&Math.cos(this.rad)<0||this.x+o>a&&Math.cos(this.rad)>0?this.rad=Math.PI-this.rad:(this.y<h&&Math.sin(this.rad)<0||this.y+l>r&&Math.sin(this.rad)>0)&&(this.rad=-this.rad),!isNaN(n)&&!isNaN(p)&&!isNaN(c)){var y=n-this.x,f=p-this.y,M=Math.atan2(f,y),w=OneMotion.vectorAdd(this.rad,this.power,M,c*Math.sqrt(Math.pow(y,2)+Math.pow(f,2)));this.rad=w.rad,this.power=w.power}this.power<i&&this.stop()},OneMotion.prototype.put=function(t,i,s){s=isNaN(s)?0:s,t=this.intValue?Math.floor(t):t,i=this.intValue?Math.floor(i):i;var h=this.$el,a=this.xProperty,r=this.yProperty,e=this.rotateProperty,o=this.headRad;this.x=t,this.y=i;var l={},n=[];if("translate"==a?n.push("translateX("+t+"px)"):"scale"==a?n.push("scale("+Math.pow(this.perspective,t)+")"):l[a]=t+"px","translate"==r?n.push("translateY("+i+"px)"):"scale"==r?n.push("scale("+Math.pow(this.perspective,i)+")"):l[r]=i+"px","transform"==e&&n.push("rotate("+180*(s+o)/Math.PI+"deg)"),n.length){var p=n.join(" ");l.transform=l["-webkit-transform"]=p}this.rendering&&h.css(l),this.dispatcher&&this.dispatcher.emit("put")},OneMotion.prototype.stop=function(){this.drawManually||(this.loop&&clearInterval(this.loop),this.ticker&&this.handler&&this.ticker.removeListener("tick",this.handler)),this.time=null,this.loop=null,this.dispatcher&&this.dispatcher.emit("stop")},OneMotion.vectorAdd=function(t,i,s,h){var a=Math.cos(t)*i,r=Math.sin(t)*i,e=Math.cos(s)*h,o=Math.sin(s)*h;return{power:Math.sqrt(Math.pow(a+e,2)+Math.pow(r+o,2)),rad:Math.atan2(r+o,a+e)}},module&&(module.exports=OneMotion);
//# sourceMappingURL=/sm/67d09719e7c8a0bc3c20fbe9a95acda2658ba974e5c288a2863b1039f9664ebf.map